!function(e,o){"object"==typeof exports&&"undefined"!=typeof module?module.exports=o():"function"==typeof define&&define.amd?define(o):(e="undefined"!=typeof globalThis?globalThis:e||self).createYandexMap=o()}(this,(function(){"use strict";var e=function(){return e=Object.assign||function(e){for(var o,r=1,t=arguments.length;r<t;r++)for(var n in o=arguments[r])Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);return e},e.apply(this,arguments)};function o(e,o){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(r[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(t=Object.getOwnPropertySymbols(e);n<t.length;n++)o.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]])}return r}return function(r,t){if(!r||void 0===window.ymaps)return null;var n=t||{},c=n.center,i=void 0===c?[55.75,37.6]:c,a=n.zoom,l=void 0===a?10:a,s=n.controls,u=void 0===s?["zoomControl","fullscreenControl"]:s,f=n.placemarkOptions,p=void 0===f?{}:f,d=n.placemarks,m=void 0===d?[]:d,v=n.onInit,g=n.clusterIconTextColor,I=void 0===g?"#ffffff":g,y=n.clusterIconTextHoverColor,H=void 0===y?"#ffffff":y,b=n.clusterIconColor,C=void 0===b?"#0770DC":b,O=n.clusterIconHoverColor,w=void 0===O?"#E40520":O,h=o(n,["center","zoom","controls","placemarkOptions","placemarks","onInit","clusterIconTextColor","clusterIconTextHoverColor","clusterIconColor","clusterIconHoverColor"]),j=e({iconLayout:"default#image",iconImageHref:"/local/templates/main/img/map/balloon.svg",iconImageHoverHref:"/local/templates/main/img/map/balloon-hover.svg",iconImageSize:[48,51],iconImageOffset:[-24,-51],iconShape:void 0===p.iconImageSize?{type:"Polygon",coordinates:[[[0,-51],[5,-50.5],[9.5,-49],[12.5,-47.5],[14,-46.5],[17,-44],[19.5,-41],[23,-34],[24,-28],[24,-26],[23.5,-22],[23,-20],[21,-15.5],[19.5,-13],[18,-11],[16,-9],[12.5,-6.5],[8.5,-4.5],[7,-4],[1.5,-3],[2,-2],[1.5,-1],[1,-.5],[0,-0],[-1,-.5],[-1.5,-1],[-2,-2],[-1.5,-3],[-7,-4],[-8.5,-4.5],[-12.5,-6.5],[-16,-9],[-18,-11],[-19.5,-13],[-21,-15.5],[-23,-20],[-23.5,-22],[-24,-26],[-24,-28],[-23,-34],[-19.5,-41],[-17,-44],[-14,-46.5],[-12.5,-47.5],[-9.5,-49],[-5,-50.5]]]}:void 0},p),x=j.iconImageHoverHref,T=o(j,["iconImageHoverHref"]),z=null,S=null;return window.ymaps.ready((function(){(z=new window.ymaps.Map(r,e({zoom:l,center:i,controls:u},h))).behaviors.disable("scrollZoom");var t=window.ymaps.templateLayoutFactory.createClass('\n        <span class="cluster" style="background-color:{{ options.iconColor | default(\'blue\') }}">\n          <span style="color:{{options.iconTextColor | default(\'white\')}};">$[properties.geoObjects.length]</span>\n        </span>\n    ');S=new window.ymaps.ObjectManager({clusterize:!0,gridSize:64,clusterIconLayout:t,clusterIconColor:C,clusterIconShape:{type:"Circle",coordinates:[0,0],radius:24},clusterIconTextColor:I,clusterHasBalloon:!1});var n=[];m.forEach((function(r,t){z&&n.push(function(r,t){var n=r.center,c=void 0===n?[]:n,i=r.iconImageHoverHref,a=o(r,["center","iconImageHoverHref"]),l=void 0!==i?i:x,s=void 0!==r.iconImageHref?r.iconImageHref:T.iconImageHref;return{type:"Feature",id:t,geometry:{type:"Point",coordinates:c},options:e(e(e({},T),a),{iconImageHref:s,iconImageHoverHref:l})}}(r,t))})),S.add({type:"FeatureCollection",features:n}),S.objects.events.add(["mouseenter","mouseleave"],(function(e){var o=e.get("objectId");if(void 0!==o){var r=n.find((function(e){return e.id===o}));if(r){var t=r.options;S&&t&&t.iconImageHoverHref&&t.iconImageHref&&(e.get("type"),S.objects.setObjectOptions(o,{iconImageHref:t.iconImageHoverHref,iconImageHoverHref:t.iconImageHref}))}}})),S.clusters.events.add(["mouseenter","mouseleave"],(function(e){var o=e.get("objectId");o&&S&&("mouseenter"==e.get("type")?S.clusters.setClusterOptions(o,{clusterIconColor:w,clusterIconTextColor:H}):S.clusters.setClusterOptions(o,{clusterIconColor:C,clusterIconTextColor:I}))})),z.geoObjects.add(S),v&&v()})),{filter:function(e){S&&S.setFilter(e)},map:z,objectManager:S}}}));
